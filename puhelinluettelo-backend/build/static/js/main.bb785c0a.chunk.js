(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){e.exports=n(39)},18:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var a=n(0),u=n.n(a),r=n(11),c=n.n(r),o=(n(18),n(2)),i=function(e){var t=e.query,n=e.listener;return u.a.createElement("div",null,"rajaa: ",u.a.createElement("input",{value:t,onChange:n,autoFocus:!0}))},l=function(e){var t=e.one,n=e.action;return u.a.createElement("p",null,t.name," ",t.number," ",u.a.createElement(function(e){var t=e.action;return u.a.createElement("button",{onClick:t}," poista ")},{action:n}))},m=function(e){var t=e.contacts,n=e.query,a=e.action;return t.filter(function(e){return e.name.toLowerCase().includes(n)||e.number.includes(n)}).map(function(e){return u.a.createElement(l,{key:e.id,one:e,action:function(){return a(e)}})})},s=n(3),f=n.n(s),d="/api/contacts",v=function(){return f.a.get(d)},E=function(e){return f.a.post(d,e)},b=function(e,t){return f.a.put("".concat(d,"/").concat(e),t)},p=function(e){return f.a.delete("".concat(d,"/").concat(e))},h=function(e){var t=e.message;return null===t?u.a.createElement(u.a.Fragment,null):u.a.createElement("div",{className:"info"},u.a.createElement("p",null," ",t," "))},y=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),l=Object(o.a)(c,2),s=l[0],f=l[1],d=Object(a.useState)(""),y=Object(o.a)(d,2),j=y[0],g=y[1],w=Object(a.useState)(""),O=Object(o.a)(w,2),k=O[0],C=O[1],S=Object(a.useState)(null),q=Object(o.a)(S,2),L=q[0],Y=q[1],F=function(e,t){window.confirm("".concat(t.number," on jo luettelossa, korvataanko nimitiedoksi ").concat(t.name,"?"))&&b(e,t).then(function(t){var a=n.filter(function(t){return t.id!==e});r(a.concat(t.data)),N("Yhteystieto p\xe4ivitetty.")})};Object(a.useEffect)(function(){v().then(function(e){return r(e.data)})},[]);var J=function(){var e=n.filter(function(e){return e.number===j});return 1===e.length?e[0].id:null},N=function(e){Y(e),setTimeout(function(){Y(null)},5e3)};return u.a.createElement("div",null,u.a.createElement("h2",null,"Puhelinluettelo"),u.a.createElement(h,{message:L}),u.a.createElement(i,{query:k,listener:function(e){return C(e.target.value.toLowerCase())}}),u.a.createElement("h4",null,"Lis\xe4\xe4 uusi yhteystieto"),u.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=J(),a={name:s,number:j};null===t?E(a).then(function(e){r(n.concat(e.data)),f(""),g(""),N("Yhteystieto lis\xe4tty.")},function(e){N(e.response.data.error)}):F(t,a)}},u.a.createElement("div",null,"nimi: ",u.a.createElement("input",{value:s,onChange:function(e){return f(e.target.value)}})),u.a.createElement("div",null,"numero: ",u.a.createElement("input",{value:j,onChange:function(e){return g(e.target.value)}})),u.a.createElement("div",null,u.a.createElement("button",{type:"submit"},"lis\xe4\xe4"))),u.a.createElement("h2",null,"Numerot"),u.a.createElement("ul",null,u.a.createElement(m,{contacts:n,query:k,action:function(e){if(window.confirm("Poistetaanko ".concat(e.name," yhteystiedoista?"))){p(e.id);var t=n.filter(function(t){return t.id!==e.id});r(t),N("Yhteystieto poistettu.")}}})))};c.a.render(u.a.createElement(y,null),document.getElementById("root"))}},[[12,2,1]]]);
//# sourceMappingURL=main.bb785c0a.chunk.js.map